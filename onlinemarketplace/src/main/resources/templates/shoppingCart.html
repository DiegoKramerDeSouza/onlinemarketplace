<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Shopping Cart</title>
    <link href="/css/bootstrap.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/css/style.css" rel="stylesheet" type="text/css" media="all"/>
    <link href="/css/font-awesome.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/css/jquery-ui1.css">
</head>
<body>

<div class="header-bot">
    <div class="header-bot_inner_wthreeinfo_header_mid">
        <!-- header-bot-->
        <div class="col-md-4 logo_agile">
            <h1>
                <a th:href="@{/}">
                    <span>M</span>UM
                    <span>E</span>XPRESS
                    <img th:src="@{/img/logo2.png}" alt=" ">
                </a>
            </h1>
        </div>
        <div class="clearfix"></div>
    </div>
</div>
<div class="ban-top">
    <div class="container">

        <div class="top_nav_left">
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                                data-target="#bs-example-navbar-collapse-1"
                                aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse menu--shylock" id="bs-example-navbar-collapse-1">

                        <ul th:if="${session.type} == 'OFF'" class="nav navbar-nav menu__list">
                            <li class="active">
                                <a class="nav-stylehead" th:href="@{/}"><i class="fa fa-home"></i> Home
                                    <span class="sr-only">(current)</span>
                                </a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/login}"><span class="fa fa-unlock-alt"
                                                                                   aria-hidden="true"></span> Login</a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/register_input}"><span
                                        class="fa fa-pencil-square-o" aria-hidden="true"></span> Sign up</a>
                            </li>

                        </ul>

                        <ul th:if="${session.type} == 'SELLER'" class="nav navbar-nav menu__list">
                            <li class="active">
                                <a class="nav-stylehead" th:href="@{/}"><i class="fa fa-home"></i> Home
                                    <span class="sr-only">(current)</span>
                                </a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/products}"><i class="fa fa-cubes"></i> Products</a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/seller/orders}"><i class="fa fa-file-text-o"></i>
                                    Orders</a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/users/followerList}"><i class="fa fa-users"></i>
                                    Followers</a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/profile/{id} (id = ${session.user.id})}"><i
                                        class="fa fa-user-circle-o"></i> Profile</a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/}"><i class="fa fa-sign-out"></i> Logout</a>
                            </li>

                        </ul>

                        <ul th:if="${session.type} == 'BUYER'" class="nav navbar-nav menu__list">
                            <li class="active">
                                <a class="nav-stylehead" th:href="@{/}"><i class="fa fa-home"></i> Home
                                    <span class="sr-only">(current)</span>
                                </a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/buyer/cart}"><i class="fa fa-shopping-cart"
                                                                                     aria-hidden="true"></i>
                                    Cart</a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/profile/{id} (id = ${session.user.id})}"><i
                                        class="fa fa-user-circle-o"></i> Profile</a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/buyer/orders}"><i class="fa fa-file-text-o"></i>
                                    Orders</a>
                            </li>
                            <li class="">
                                <a class="nav-stylehead" th:href="@{/}"><i class="fa fa-sign-out"></i> Logout</a>
                            </li>

                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
</div>

<h1 style="text-align: center">Shopping Cart</h1></body>
<br/>

<h2 class="result" th:if="${added}" style="color: black">Product added successfuly!</h2>

<h2 class="result" th:if="${result}" style="color: black">Thanks for buying!</h2>
<h2 class="result" th:if="${resultRemove}" style="color: black">Product removed!</h2>
<div align="center">
    <div align="left" th:style="'width: 80%; border: 1px solid rgba(30,30,30,0.4); border-radius: 3px;'">
        <div th:each="product : ${cart.productList}" style="color: black">
            <form method="post"
                  th:action="@{/buyer/cart/remove/{id}/{pid} (id = ${cart.id}, pid = ${product.id})}">
                <p style="text-align: center">
                    <img th:src="@{/img/{photo} (photo = ${product.productImage})}"
                         th:title="${product.name}"/> &nbsp;
                    <span style="color: black" th:text="${product.name}"></span> &nbsp;
                    <br/>
                    <span style="color: black" th:text="' Price: $' + ${product.price}"></span> &nbsp;
                    <span style="color: black" th:text="' Seller: ' + ${product.seller.name}"></span>
                    <input style="color: black" type="submit" value="Remove"/>
                </p>
            </form>
        </div>

    </div>
</div>
</div>
<br/>
<div style="text-align: center; color: black; font-weight: bold; font-size: 18px;">
    <h4 th:text="'Total of cart: $' + ${cart.totalPrice}"></h4>
</div>
<hr/>

<div style="text-align: center; color:black" th:if="${cart.productList.size()} > 0" >
    <h2>Please confirm your payment method and open your order</h2>
    <div th:each="product : ${cart.productList}">
        <p>
            <span style="color: black" th:text="${product.name}"></span> &nbsp; |
            <span style="color: black" th:text="${product.seller.name}"></span> &nbsp; |
            <strong style="color: black" th:text="'$' + ${product.price}"></strong>
        </p>
    </div>
    <p style="color:black; font-size: 16px" th:text="'Total: $' + ${cart.totalPrice}"></p>

    <h2>Payment method:</h2>
    <div style="color: black">
        <p><strong style="color: black">Credit Card Number:</strong> <span style="color: black"
                                                                           th:text="${creditCard.number}"></span></p>
        <p><strong style="color: black">Name:</strong> <span style="color: black" th:text="${creditCard.name}"></span>
        </p>
        <p><strong style="color: black">Valid Date:</strong> <span style="color: black"
                                                                   th:text="${creditCard.validDate}"></span></p>
    </div>
    <br/>
    <form th:action="@{/buyer/cart/setorder/1}" method="post">
        <input style="height: 40px; width: 160px;" type="submit" value="Confirm and pay!"/>
        <br/><br/>
    </form>
</div>

</body>
</html>